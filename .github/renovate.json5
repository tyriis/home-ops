{
  enabled: true,
  platform: "github",
  extends: [
    "github>bjw-s/home-ops//.github/renovate/disabledDatasources.json5",
    "github>tyriis/renovate-config//dashboard/default.json5",
    // does not work for docker images
    // "github>tyriis/renovate-config//dashboard/vulnerability-summary.json5",
    "github>tyriis/renovate-config//docker/default.json5",
    "github>tyriis/renovate-config//flux/default.json5",
    "github>tyriis/renovate-config//flux/file-match.json5",
    "github>tyriis/renovate-config//flux/prevent-automerge-loki.json5",
    "github>tyriis/renovate-config//helm/default.json5",
    "github>tyriis/renovate-config//labels/semantic.json5",
    "github>tyriis/renovate-config//pre-commit/default.json5",
    "github>tyriis/renovate-config//pre-commit/freeze-lucas-c.json5",
    "github>tyriis/renovate-config//github-actions/default.json5",
    "github>tyriis/renovate-config//github-actions/automerge-selected-major.json5",
    "github>tyriis/renovate-config//terraform/default.json5",
    "github>tyriis/renovate-config//terraform/automerge-selected-major.json5",
  ],
  semanticCommits: "enabled",
  suppressNotifications: ["prIgnoreNotification"],
  rebaseWhen: "conflicted",
  "helm-values": {
    fileMatch: ["kubernetes/.+/helm-release\\.ya?ml$"],
  },
  kubernetes: {
    fileMatch: ["kubernetes/.+\\.ya?ml$"],
    ignorePaths: ["kubernetes/flux/flux-manifests"],
  },
  regexManagers: [],
  packageRules: [
    // setup datasources
    {
      matchDatasources: ["helm"],
      separateMinorPatch: true,
      ignoreDeprecated: true,
    },
    // global docker datasource settings
    {
      matchDatasources: ["docker"],
      enabled: true,
      commitMessageTopic: "container image {{depName}}",
      commitMessageExtra: "to {{#if isSingleVersion}}v{{{newVersion}}}{{else}}{{{newValue}}}{{/if}}",
      matchUpdateTypes: ["major", "minor", "patch"],
    },
    // add labels according to package and update types
    // {
    //   matchDatasources: ["docker"],
    //   matchUpdateTypes: ["major"],
    //   labels: ["renovate/image", "type/major"],
    // },
    // {
    //   matchDatasources: ["docker"],
    //   matchUpdateTypes: ["minor"],
    //   labels: ["renovate/image", "type/minor"],
    //   automerge: true,
    // },
    // {
    //   matchDatasources: ["docker"],
    //   matchUpdateTypes: ["patch"],
    //   labels: ["renovate/image", "type/patch"],
    //   automerge: true,
    // },
    // {
    //   matchDatasources: ["helm"],
    //   matchUpdateTypes: ["major"],
    //   labels: ["helm", "major"],
    // },
    // {
    //   matchDatasources: ["helm"],
    //   matchUpdateTypes: ["minor"],
    //   labels: ["helm", "minor"],
    //   automerge: true,
    // },
    // {
    //   matchDatasources: ["helm"],
    //   matchUpdateTypes: ["patch"],
    //   labels: ["helm", "patch"],
    //   automerge: true,
    // },
  ],
}
