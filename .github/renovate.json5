{
  enabled: true,
  extends: [
    "github>tyriis/renovate-config//generic-regex-manager.json5", //  TODO: reconfigure
    "github>techtales-io/renovate-config:base.json5",
    "github>techtales-io/renovate-config:flux-infra.json5",
    "github>techtales-io/renovate-config//dependencies/argo.json5",
    "github>techtales-io/renovate-config//dependencies/cloudnative-pg.json5",
    "github>techtales-io/renovate-config//dependencies/dragonfly.json5",
    "github>techtales-io/renovate-config//dependencies/fluxcd.json5",
    "github>techtales-io/renovate-config//dependencies/github-runners.json5",
    "github>techtales-io/renovate-config//dependencies/google-cloud-sdk.json5",
    "github>techtales-io/renovate-config//dependencies/grafana-dashboards.json5",
    "github>techtales-io/renovate-config//dependencies/minecraft.json5",
    "github>techtales-io/renovate-config//dependencies/minecraft-luckperms-plugin.json5",
    "github>techtales-io/renovate-config//dependencies/minecraft-paper-builds.json5",
    "github>techtales-io/renovate-config//dependencies/minecraft-velocity.json5",
    "github>techtales-io/renovate-config//dependencies/minio.json5",
    "github>techtales-io/renovate-config//dependencies/rook-ceph.json5",
    "github>techtales-io/renovate-config//dependencies/talos.json5",
    "github>techtales-io/renovate-config//dependencies/tektoncd.json5",
  ],
  ignorePaths: [
    "kubernetes/kube-lab/apps/system-upgrade/system-upgrade-controller/plans/kubernetes.yaml",
    "kubernetes/kube-lab/apps/system-upgrade/system-upgrade-controller/plans/talos.yaml",
  ],
  rebaseWhen: "conflicted",
  ansible: {
    enabled: false,
  },
  jenkins: {
    enabled: false,
  },
  lockFileMaintenance: {
    enabled: true,
    extends: ["schedule:weekly"],
    automerge: true,
  },
  vulnerabilityAlerts: {
    enabled: false,
  },
  packageRules: [
    {
      description: "do not automerge minio",
      matchDepNames: ["quay.io/minio/minio"],
      matchUpdateTypes: ["patch", "minor", "major"],
      automerge: false,
    },
    // separate siderolabs per cluster
    {
      matchPackageNames: ["/siderolabs/"],
      matchFileNames: ["**/kube-lab/**"],
      additionalBranchPrefix: "kube-lab-",
    },
    {
      matchPackageNames: ["/siderolabs/"],
      matchFileNames: ["**/nas/**"],
      additionalBranchPrefix: "nas-",
    },
    // separate app-template per cluster
    {
      matchPackageNames: ["/app-template/"],
      matchFileNames: ["**/kube-lab/**"],
      additionalBranchPrefix: "kube-lab-",
    },
    {
      matchPackageNames: ["/app-template/"],
      matchFileNames: ["**/nas/**"],
      additionalBranchPrefix: "nas-",
    },
  ],
}
