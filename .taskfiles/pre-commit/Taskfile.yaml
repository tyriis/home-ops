---
# yaml-language-server: $schema=https://taskfile.dev/schema.json
version: "3"

tasks:
  default:
    desc: run pre-commit
    cmds:
      - task: run

  init:
    desc: initialize pre-commit hooks
    internal: true
    status:
      - test -f .git/hooks/pre-commit
    cmds:
      - pre-commit install --install-hooks

  run:
    desc: run pre-commit
    deps: [init]
    internal: true
    cmds:
      - pre-commit run --all-files
